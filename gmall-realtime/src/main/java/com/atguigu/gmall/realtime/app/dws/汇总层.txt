汇总层
    小批量的汇总  窗口
    0-5 ..
    5-10 ..

    dws的层次存储能够支持聚合   数据量大
    doris   olap
    mysql Oracle  SQL Server PostgreSQL   oltp


OLAP（联机分析处理）和OLTP（联机事务处理）是两种在数据处理中常见的术语，它们具有以下区别：

目的和应用场景：

OLTP：OLTP旨在处理实时的、交互式的事务处理。它主要用于支持日常的业务操作，如订单处理、交易记录等。OLTP系统注重数据的准确性和一致性，并且通常需要处理大量的短期事务。
OLAP：OLAP旨在支持复杂的分析和决策支持。它主要用于多维数据分析、报表生成和数据挖掘。OLAP系统注重数据的查询和分析性能，并且通常需要处理大量的历史数据。
数据模型和结构：

OLTP：OLTP系统通常使用关系型数据库，并使用基于行的数据模型。它的重点是事务的原子性、一致性、隔离性和持久性（ACID特性）。数据结构通常是规范化的，以确保数据的完整性和数据冗余的最小化。
OLAP：OLAP系统通常使用多维数据模型，如星型模型或雪花模型。它以支持复杂的查询和分析为重点，提供灵活的数据切片和切块的能力。数据结构通常是面向分析的，包括维度、层次结构和度量。
查询类型和性能要求：

OLTP：OLTP系统通常执行简单的事务型查询，如插入、更新和删除。查询的响应时间通常较短，通常以毫秒级别为目标。对于OLTP系统而言，事务的处理速度和实时性非常重要。
OLAP：OLAP系统通常执行复杂的分析型查询，涉及多维数据的聚合、切片和切块。查询的响应时间可以更长，允许在秒级或更长的时间范围内进行查询。对于OLAP系统而言，查询性能和数据处理的吞吐量非常重要。
数据更新方式：

OLTP：OLTP系统通常需要频繁地进行数据更新，包括插入、更新和删除操作。它要求数据的实时更新和一致性，以确保业务操作的准确性。
OLAP：OLAP系统通常以批处理方式更新数据，更注重大规模数据的导入和转换。它通常在一段时间后加载和更新数据，以支持分析和报表生成。


开窗 不是统计数据吗？滑动 滚动 会话（统计时间）
窗口有计数类型  时间类型  时间类型包括 事件时间 处理时间
按键分区窗口 （先keyby 然后wind） 时间或者全局（windall）  计数（countwindall）
滚动用tmpl
滑动用sp
process,apply 底层 可以实现多种
map   类型转换 一进一出  必须有数据来 有数据出去
keyby  分组
aggregate 可以使不同数据类型聚合
reduce  相同类型聚合